HK3-Codegen_updated